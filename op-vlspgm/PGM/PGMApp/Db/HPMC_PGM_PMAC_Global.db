#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBDEND


# Global PGM interlock database
#
# Macro explanations
#ASYNPORTcommunications port
#SCANscan period
#Pprefix of the pv name
#Rmain part of the pv name
record(longout, "$(P)$(R):IL_ERR_CLEAR_CMD") {
  field(DESC, "Clear interlock error")
  field(DTYP, "stream")
  field(OUT, "@devPmacPGM.proto sendSPInt(P299) $(ASYNPORT)")
}

record(longout, "$(P)$(R):COL_RESET_CMD") {
  field(DESC, "Collision recovery")
  field(DTYP, "stream")
  field(OUT, "@devPmacPGM.proto sendSPInt(P298) $(ASYNPORT)")
}

### collect a lot of pmac vars such as:
###  "M11 M13 M14 M15 M39 I51 M320 M420 M115 M215 M315 M415"
record(calcout, "$(P)$(R):IL_STS") {
  field(SCAN, "$(SCAN)")
  field(DESC, "PGM Interlock Status")
  field(DTYP, "stream")
  field(OUT, "@devPmacPGM.proto readPGMInterlockStatus $(ASYNPORT)")
}

record(bi, "$(P)$(R):COL_STS") {
  field(DESC, "Collision Status")
  field(INP, "$(P)$(R):IL_STS.B CP NMS")
  field(ONAM, "Ok")
  field(ZNAM, "Tripped")
  field(ZSV, "MAJOR")
}

record(bi, "$(P)$(R):ESTP_STS") {
  field(DESC, "Emergency Stop Status")
  field(INP, "$(P)$(R):IL_STS.C CP NMS")
  field(ONAM, "Ok")
  field(ZNAM, "Tripped")
  field(ZSV, "MAJOR")
}

record(bi, "$(P)$(R):EXIL_STS") {
  field(DESC, "External Interlock Status")
  field(INP, "$(P)$(R):IL_STS.D CP NMS")
  field(ONAM, "Ok")
  field(ZNAM, "Error")
  field(ZSV, "MAJOR")
}

record(bi, "$(P)$(R):IL_ERR_STS") {
  field(DESC, "Interlock Error Status")
  field(INP, "$(P)$(R):IL_STS.E CP NMS")
  field(ZNAM, "Ok")
  field(ONAM, "Error")
  field(OSV, "MAJOR")
}

record(bi, "$(P)$(R)MIR:X_DCPL_STS") {
  field(DESC, "Mirror Decoupl. Status")
  field(INP, "$(P)$(R):IL_STS.G CP NMS")
  field(ZNAM, "Coupled")
  field(ONAM, "Decoupled")
  field(ZSV, "MINOR")
}

record(bi, "$(P)$(R)GRT:X_DCPL_STS") {
  field(DESC, "Grating Decoupl. Status")
  field(INP, "$(P)$(R):IL_STS.H CP NMS")
  field(ZNAM, "Coupled")
  field(ONAM, "Decoupled")
  field(ZSV, "MINOR")
}

record(bi, "$(P)$(R):OVTR1_STS") {
  field(DESC, "Overtravel Status Axis 1")
  field(INP, "$(P)$(R):IL_STS.I CP NMS")
  field(ZNAM, "Ok")
  field(ONAM, "Tripped")
  field(OSV, "MAJOR")
}

record(bi, "$(P)$(R):OVTR2_STS") {
  field(DESC, "Overtravel Status Axis 2")
  field(INP, "$(P)$(R):IL_STS.J CP NMS")
  field(ZNAM, "Ok")
  field(ONAM, "Tripped")
  field(OSV, "MAJOR")
}

record(bi, "$(P)$(R):OVTR3_STS") {
  field(DESC, "Overtravel Status Axis 3")
  field(INP, "$(P)$(R):IL_STS.K CP NMS")
  field(ZNAM, "Ok")
  field(ONAM, "Tripped")
  field(OSV, "MAJOR")
}

record(bi, "$(P)$(R):OVTR4_STS") {
  field(DESC, "Overtravel Status Axis 4")
  field(INP, "$(P)$(R):IL_STS.L CP NMS")
  field(ZNAM, "Ok")
  field(ONAM, "Tripped")
  field(OSV, "MAJOR")
}

record(longout, "$(P)$(R):OVTR1_RESET_CMD") {
  field(DESC, "Collision recovery")
  field(DTYP, "stream")
  field(VAL, "1")
  field(OUT, "@devPmacPGM.proto sendSPInt(P2198) $(ASYNPORT)")
}

record(longout, "$(P)$(R):OVTR2_RESET_CMD") {
  field(DESC, "Collision recovery")
  field(DTYP, "stream")
  field(VAL, "1")
  field(OUT, "@devPmacPGM.proto sendSPInt(P2298) $(ASYNPORT)")
}

record(longout, "$(P)$(R):OVTR3_RESET_CMD") {
  field(DESC, "Collision recovery")
  field(DTYP, "stream")
  field(VAL, "1")
  field(OUT, "@devPmacPGM.proto sendSPInt(P2398) $(ASYNPORT)")
}

record(longout, "$(P)$(R):OVTR4_RESET_CMD") {
  field(DESC, "Collision recovery")
  field(DTYP, "stream")
  field(VAL, "1")
  field(OUT, "@devPmacPGM.proto sendSPInt(P2498) $(ASYNPORT)")
}

#! Further lines contain data used by VisualDCT
#! View(0,0,0.9)
#! Record("$(P)$(R):IL_ERR_CLEAR_CMD",20,763,0,0,"$(P)$(R):IL_ERR_CLEAR_CMD")
#! Record("$(P)$(R):COL_RESET_CMD",20,323,0,0,"$(P)$(R):COL_RESET_CMD")
#! Record("$(P)$(R):IL_STS",160,1428,0,0,"$(P)$(R):IL_STS")
#! Field("$(P)$(R):IL_STS.B",16777215,1,"$(P)$(R):IL_STS.B")
#! Field("$(P)$(R):IL_STS.C",16777215,1,"$(P)$(R):IL_STS.C")
#! Field("$(P)$(R):IL_STS.D",16777215,1,"$(P)$(R):IL_STS.D")
#! Field("$(P)$(R):IL_STS.E",16777215,1,"$(P)$(R):IL_STS.E")
#! Field("$(P)$(R):IL_STS.G",16777215,1,"$(P)$(R):IL_STS.G")
#! Field("$(P)$(R):IL_STS.H",16777215,1,"$(P)$(R):IL_STS.H")
#! Field("$(P)$(R):IL_STS.I",16777215,1,"$(P)$(R):IL_STS.I")
#! Field("$(P)$(R):IL_STS.J",16777215,1,"$(P)$(R):IL_STS.J")
#! Field("$(P)$(R):IL_STS.K",16777215,1,"$(P)$(R):IL_STS.K")
#! Field("$(P)$(R):IL_STS.L",16777215,1,"$(P)$(R):IL_STS.L")
#! Record("$(P)$(R):COL_STS",800,135,0,0,"$(P)$(R):COL_STS")
#! Field("$(P)$(R):COL_STS.INP",16777215,0,"$(P)$(R):COL_STS.INP")
#! Link("$(P)$(R):COL_STS.INP","$(P)$(R):IL_STS.B")
#! Record("$(P)$(R):ESTP_STS",800,315,0,0,"$(P)$(R):ESTP_STS")
#! Field("$(P)$(R):ESTP_STS.INP",16777215,0,"$(P)$(R):ESTP_STS.INP")
#! Link("$(P)$(R):ESTP_STS.INP","$(P)$(R):IL_STS.C")
#! Record("$(P)$(R):EXIL_STS",800,495,0,0,"$(P)$(R):EXIL_STS")
#! Field("$(P)$(R):EXIL_STS.INP",16777215,0,"$(P)$(R):EXIL_STS.INP")
#! Link("$(P)$(R):EXIL_STS.INP","$(P)$(R):IL_STS.D")
#! Record("$(P)$(R):IL_ERR_STS",800,675,0,0,"$(P)$(R):IL_ERR_STS")
#! Field("$(P)$(R):IL_ERR_STS.INP",16777215,0,"$(P)$(R):IL_ERR_STS.INP")
#! Link("$(P)$(R):IL_ERR_STS.INP","$(P)$(R):IL_STS.E")
#! Record("$(P)$(R)MIR:X_DCPL_STS",800,855,0,0,"$(P)$(R)MIR:X_DCPL_STS")
#! Field("$(P)$(R)MIR:X_DCPL_STS.INP",16777215,0,"$(P)$(R)MIR:X_DCPL_STS.INP")
#! Link("$(P)$(R)MIR:X_DCPL_STS.INP","$(P)$(R):IL_STS.G")
#! Record("$(P)$(R)GRT:X_DCPL_STS",800,1035,0,0,"$(P)$(R)GRT:X_DCPL_STS")
#! Field("$(P)$(R)GRT:X_DCPL_STS.INP",16777215,0,"$(P)$(R)GRT:X_DCPL_STS.INP")
#! Link("$(P)$(R)GRT:X_DCPL_STS.INP","$(P)$(R):IL_STS.H")
#! Record("$(P)$(R):OVTR1_STS",800,1215,0,0,"$(P)$(R):OVTR1_STS")
#! Field("$(P)$(R):OVTR1_STS.INP",16777215,0,"$(P)$(R):OVTR1_STS.INP")
#! Link("$(P)$(R):OVTR1_STS.INP","$(P)$(R):IL_STS.I")
#! Record("$(P)$(R):OVTR2_STS",800,1395,0,0,"$(P)$(R):OVTR2_STS")
#! Field("$(P)$(R):OVTR2_STS.INP",16777215,0,"$(P)$(R):OVTR2_STS.INP")
#! Link("$(P)$(R):OVTR2_STS.INP","$(P)$(R):IL_STS.J")
#! Record("$(P)$(R):OVTR3_STS",800,1575,0,0,"$(P)$(R):OVTR3_STS")
#! Field("$(P)$(R):OVTR3_STS.INP",16777215,0,"$(P)$(R):OVTR3_STS.INP")
#! Link("$(P)$(R):OVTR3_STS.INP","$(P)$(R):IL_STS.K")
#! Record("$(P)$(R):OVTR4_STS",800,1755,0,0,"$(P)$(R):OVTR4_STS")
#! Field("$(P)$(R):OVTR4_STS.INP",16777215,0,"$(P)$(R):OVTR4_STS.INP")
#! Link("$(P)$(R):OVTR4_STS.INP","$(P)$(R):IL_STS.L")
#! Record("$(P)$(R):OVTR1_RESET_CMD",20,1028,0,0,"$(P)$(R):OVTR1_RESET_CMD")
#! Record("$(P)$(R):OVTR2_RESET_CMD",20,448,0,0,"$(P)$(R):OVTR2_RESET_CMD")
#! Record("$(P)$(R):OVTR3_RESET_CMD",20,608,0,0,"$(P)$(R):OVTR3_RESET_CMD")
#! Record("$(P)$(R):OVTR4_RESET_CMD",20,888,0,0,"$(P)$(R):OVTR4_RESET_CMD")
